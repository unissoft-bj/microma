!function(t,e){!function(e){var n=e.extend,i=Object.prototype.toString,r=Object.prototype.hasOwnProperty,o=Array.prototype.push,a=Array.prototype.slice,s=Array.prototype.indexOf;e.extend=e.fn.extend=function(){var t,i=arguments[0]||{},r=1,o=arguments.length,a=false;if("boolean"===typeof i){a=i;i=arguments[1]||{};r=2}if("object"!==typeof i&&!e.isFunction(i))i={};if(o===r){i=this;--r}n.apply(e,[a,i].concat(Array.prototype.slice.call(arguments,r)));return i};e.extend({noop:function(){}});e.bindModule=function(n,i,r){if("object"!=typeof i){r=i;i=n;n=0}var o=n||this;e.each(i||{},function(n,i){i&&i.js&&e.each(n.split(" "),function(n,a){if(o[a])return;var s=[],u=[];var c=o[a]=function(){var n=arguments;s.push(this);u.push(n);if(1==c.autoLoaded)return;c.autoLoaded=1;var l=t.setTimeout(function(){c.autoLoaded=0},1e3);i.css&&e.loadCss(i.css,r);e.loadJS(i.js,function(){l&&t.clearTimeout(l);if(o[a]===c){t.console&&t.console.log("方法"+a+"在"+i.js+"中未被定义！自动加载模块处理失败！");o[a]=e.noop;return}for(var n=u.length,r=0;r<n;r++)o[a].apply(s[r],u[r]);u.length=0},r)}})});return this};e.isSupportTouch="ontouchstart"in document.createElement("div");e.isIE=/msie (\d+\.\d+)/i.test(navigator.userAgent)?document.documentMode||+RegExp["$1"]:void 0;e.browser=e.browser||{};e.browser.ie=e.isIE;e.isIE&&(e.browser.version=/msie (\d+\.\d+)/i.test(navigator.userAgent)?document.documentMode||+RegExp["$1"]:void 0);if(e.isIE)e.isPlainObject=function(t){if(!t||"[object Object]"!==i.call(t)||t.nodeType||t.setInterval)return false;if(t.constructor&&!r.call(t,"constructor")&&!r.call(t.constructor.prototype,"isPrototypeOf"))return false;var e;for(e in t);return void 0===e||r.call(t,e)}}(Zepto);!function(e,n){var i=navigator.userAgent,r=navigator.appVersion,o=e.browser;e.extend(o,{qq:/qq/i.test(i),uc:/UC/i.test(i)||/UC/i.test(r)});o.uc=o.uc||!o.qq&&!o.chrome&&!o.firefox&&!o.ie&&!/safari/i.test(i);try{o.version=o.uc?r.match(/UC(?:Browser)?\/([\d.]+)/)[1]:o.qq?i.match(/MQQBrowser\/([\d.]+)/)[1]:o.version}catch(a){}e.support=e.extend(e.support||{},{orientation:!(o.uc||parseFloat(e.os.version)<5&&(o.qq||o.chrome))&&!(e.os.android&&parseFloat(e.os.version)>3)&&"orientation"in t&&"onorientationchange"in t,touch:"ontouchend"in document,cssTransitions:"WebKitTransitionEvent"in t,has3d:"WebKitCSSMatrix"in t&&"m11"in new WebKitCSSMatrix})}(Zepto);function n(){}!function(t){if(t.Class!==n)t.Class=n;function e(){}n.prototype.log=n.prototype.warn=e;if(t.console){n.prototype.log=function(){console.log&&console.log.apply(console,arguments)};n.prototype.warn=function(){console.warn&&console.warn.apply(console,arguments)}}var i=n.prototype.warn;n.prototype.callSuper=function(){i("父类没有同名方法，不能调用callSuper！")};n.extend=function u(t,e){var n,c,l=this.prototype;if(!e){e=t;t=""}if("object"!==typeof e||!e.hasOwnProperty){i("继承类的原型数据错误！");return}var f=o(t);if(!f)return;n=new this;for(var p in e)if(e.hasOwnProperty(p))if("function"==typeof e[p]&&"function"==typeof l[p]){var d=l[p];if(!d.__isAgent)d=a(s(p+"方法被子类覆盖，但是父类没有同名函数，不能调用callSuper!"),l[p]);n[p]=a(d,e[p])}else n[p]=e[p];function h(){}h.prototype=n;h.prototype.constructor=h;h.extend=u;h.create=r;f(h);return h};function r(){var t=new this;if(t.init)t.init.apply(t,arguments);return t}function o(t){if(!t)return e;if(!/^(?:Base|Tools|Widgets|Game|Page)\./.test(t))return i("Class命名空间错误，一级命名空间只能是:Base、Tools、Widgets、Game、Page");var r=t.split("."),o=r.length,a=0,s=n,u;for(;a<o-1;a++){u=r[a];s=s[u]=s[u]||{}}u=r[o-1];if(s[u])return i("已经有同名Class存在，请更换名称或路径！");return function(t){s[u]=t}}function a(t,e){var n=function(){var n=this.hasOwnProperty("callSuper"),i=this.callSuper,r;this.callSuper=t;r=e.apply(this,arguments);if(!n)delete this.callSuper;else this.callSuper=i;return r};n.__isAgent=true;return n}function s(t){return function(){i(t)}}}(t);!function(n){var i=Array.prototype.slice,r=Object.prototype.toString,o=function(){},a=1,s=function(t){return"[object Function]"==r.call(t)};var u=n.extend({init:function(){this.eventCache=this.eventCache||{}},createEvent:function(t,n){if("string"!==typeof t)return;var r=this,o=r.eventCache;e.each(t.split(" "),function(t,e){o[e]=o[e]||[];n&&(r[e]=function(t){if(s(t)){r.bind(e,t);return this}else return r.trigger.apply(r,[e].concat(i.call(arguments,0)))})})},trigger:function(n,r){var o,a=0,s=this,u=i.call(arguments,1);if(!isNaN(n)&&n&&+n>0){if("string"!==typeof r)return 1;o=this.eventCache[r||""];if(!o)return 2;if(!o.length)return 0;o.paras=u;if(!o.t)o.t=t.setTimeout(function(){delete o.t;s.trigger.apply(s,o.paras)},parseInt(n,10)||200);return 0}if("number"===typeof n&&(isNaN(n)||n<0)){if("string"!==typeof r)return 1;o=this.eventCache[r||""];if(o)this.warn("事件"+r+"设置的缓冲保护时间不是合法数字")}else{if("string"!==typeof(n||r))return 1;o=this.eventCache[n||r||""]}if(!o)return 2;e.each(o.slice(0),function(t,e){try{if(false===e.apply(s,u))a++}catch(n){s.log(n);return}});return a?false:0},bind:function(t,e){if("string"!==typeof t)return 1;var n=this.eventCache[t];if(!n)return 2;if(!s(e))return 3;e.muid=e.muid||a++;n.push(e);return 0},unbind:function(t,e){if(0===arguments.length){this.eventCache={};return 0}if("string"!==typeof t)return 1;var n=this.eventCache[t||""];if(!n)return 2;if(void 0===e){n.length=0;return this}if(!s(e))return 3;for(var i=0;i<n.length;i++)if(n[i]===e||e.muid&&n[i].muid===e.muid){n.splice(i,1);i--}return 0},bindOnce:function(t,e){if("string"!==typeof t)return 1;var n=this.eventCache[t],i=this;if(!n)return 2;if(!s(e))return 3;var r=function(){var n=e.apply(this,arguments);i.unbind(t,r);return n};r.muid=e.muid=e.muid||a++;return i.bind(t,r)}});n.extend("Base.Message",{init:function(){this.__agent=this.__agent||u.create()},bindMsg:function(e,n,i,r){if(!e||!s(n))return this;this.__agent.createEvent(e);var o=i?function(){return n.apply(i,arguments)}:function(){return n.apply(t,arguments)};o.muid=n.muid;this.__agent[r?"bindOnce":"bind"](e,o);n.muid=o.muid;return this},bindMsgOnce:function(t,e,n){return this.bindMsg(t,e,n,1)},unbindMsg:function(t){if(!t)return this;this.__agent.unbind.apply(this.__agent,arguments);return this},sendMsg:function(t){this.__agent.trigger.apply(this.__agent,arguments);return this}});!function(t,e){var i=n.Base.Message.create();t.each(["bindMsg","bindMsgOnce","unbindMsg","sendMsg"],function(n,r){e[r]=t[r]=function(){i[r].apply(i,arguments);return this}})}(t.jQuery||t.Zepto,t.Zepto||t);u.extend("Base.Event",{init:function(t){this.callSuper();this.createEvent(t,true);this.createEvent=o},trigger:function(t){var e=this.callSuper.apply(this,arguments);if(e&&!isNaN(e))this.warn(["trigger事件名称必须是字符串","未注册的事件("+t+")不能trigger"][e-1]);if(false===e)return false},bind:function(t){var e=this.callSuper.apply(this,arguments);if(e)this.warn(["bind事件名称必须是字符串","未注册的事件("+t+")不能bind","bind("+t+")注册事件必须是函数"][e-1]);return this},unbind:function(t){if(!t){this.warn("暂不支持全部事件一次性卸载");return this}this.callSuper.apply(this,arguments);return this},bindOnce:function(t){var e=this.callSuper.apply(this,arguments);if(e)this.warn(["bindOnce事件名称必须是字符串","未注册的事件("+t+")不能bindOnce","bindOnce("+t+")注册事件必须是函数"][e-1]);return this}})}(t.Class);!function(e){e.extend(Number.prototype,{Round:function(t,e){var n=Math.pow(10,t||0);return 0==e?Math.ceil(this*n)/n:Math.round(this*n+(5-(e||5))/10)/n},Cint:function(t){return this.Round(0,t)},Round465:function(t){var e,t=t||0,n=""+this,i=false,r;e=new RegExp("^(\\d*)(\\d)(\\.)(\\d{"+t+"})5(\\d*)$");if(e.test(n)){if(0==t){n=n.replace(e,"$1$2");r=RegExp.$2}else{n=n.replace(e,"$1$2$3$4");r=RegExp.$4}if(+RegExp.$5>0)i=true;else if(r%2!=0)i=true;if(i)n=+n+1/Math.pow(10,t)}n=(+n).Round(t);return n}});var n=/./,i=n.compile&&n.compile(n.source,"g");RegExp.regCompile=i;e.extend(String.prototype,{trim:function(){return this.replace(/^(?:\s|\xa0|\u3000)+|(?:\s|\xa0|\u3000)+$/g,"")},byteLen:function(){return this.replace(/([^\x00-\xff])/g,"ma").length},cutString:function(t,e){var n=/([^\x00-\xff])/g,i=/([^\x00-\xff]) /g;if(e){var r=String(e),o=r.length,a=this.replace(n,"$1 ");t=t>=o?t-o:0;e=a.length>t?r:"";return a.substr(0,t).replace(i,"$1")+e}return this.substr(0,t).replace(n,"$1 ").substr(0,t).replace(i,"$1")}});e.extend(e.fn,{fixPosition:function(n){var i=this;if(i.attr("isFixed"))return i;i.css(n).css("position","fixed").attr("isFixed",true);var r=e('<div style="position:fixed;top:10px;"></div>').appendTo("body"),o=r[0].getBoundingClientRect().top,a=function(){if(t.pageYOffset>0){if(r[0].getBoundingClientRect().top!==o){i.css("position","absolute");s();e(document).on("scrollStop",s);e(t).on("ortchange",s)}e(document).off("scrollStop",a);r.remove()}},s=function(){i.css({top:t.pageYOffset+(void 0!==n.bottom?t.innerHeight-i.height()-n.bottom:n.top||0),left:void 0!==n.right?document.body.offsetWidth-i.width()-n.right:n.left||0});"100%"==n.width&&i.css("width",document.body.offsetWidth)};e(document).on("scrollStop",a);return i}})}(Zepto);!function(e,n){var i="163.com",r=/\.163\.com$/i,o=function(t){var e=(t+"").toLowerCase(),n=e.indexOf("http");return n<0?r.test(e)?e:"":n?"":e.replace(/^https?:\/\//,"").replace(/\/.+$/,"")},a={},s=function(n,i){var r=o(n),u=t.location.host+"",c=a[r],l=n.replace(/\/$/g,"")+"/agent/ajaxAgent.htm?v="+ +new Date;if(l.indexOf("http")<0)l="http://"+l;if(!r||r==u){i(e);return}if(c)try{var f=c._loading}catch(p){c=null}if(c&&c._loading){c.push(i);return}if(c&&!c._loading){i(c);return}if(!document.body){t.setTimeout(function(){s(n,i)},1);return}a[r]=[i];a[r]._loading=true;var d=t,h=e("<iframe scrolling='no' frameborder='0' width='0' height='0'/>").appendTo(document.body).bind("load",function(){var e=a[r],o=e.length,u=0,c,f;try{c=h[0].contentWindow.jQuery||h[0].contentWindow.Zepto;f=h[0].contentWindow.document.domain;if(f!=document.domain)throw""}catch(p){s(n,i);return}a[r]=c;if(c)for(;u<o;u++)e[u]&&e[u](c);else t.console&&t.console.log("跨域代理文件错误！",l)}).attr("src",l)},u=function(t){t=t.replace(/("|')\\?\/Date\((-?[0-9+]+)\)\\?\/\1/g,"new Date($2)");return new Function("return "+t)()},c={},l=function(n,i,a,u,c){var l=t.location.host+"",f=o(i)||l,d="http:",h="80",g;if(/^(https?:)/i.test(i)){d=RegExp.$1.toLowerCase();if(/:(\d+)/i.test(i))h=RegExp.$1||"80"}else{d=t.location.protocol;h=t.location.port||"80"}if(t.location.protocol!=d||(t.location.port||"80")!=h){g=e.isFunction(u)?u:e.isFunction(a)?a:e.noop;g.call(Core,2,"","protocols or ports not match");return}if(r.test(f)&&r.test(l)&&f.indexOf(document.domain)>=0&&"http:"==d)s(f,function(t){p(t,n,i,a,u,c)});else p(e,n,i.replace(/https?:\/\/[^\/]+/,""),a,u,c)},f={},p=function(t,n,i,r,o,a){var s=e.isFunction(o)?o:e.noop,l=i,p,d,h=Core,g=false,m=(l.indexOf("?")+1?"&":"?")+"cache="+ +new Date,v,y;if(e.isFunction(r)){s=r;r=null;a=o}if(a&&0==a.indexOf("*")){g=true;a=a.substr(1)}if(a){if(0===a.indexOf("!")){a=a.substr(1);if(f[a]){f[a].push(s);return}f[a]=[];o=s;s=function(){var t=arguments,n=this;o.apply(n,t);e.each(f[a],function(e,i){i.apply(n,t)});delete f[a]}}p=c[a];if(p){if(0!==a.indexOf("@"))return;d=p.readyState;if(d>0&&d<5){try{p.aborted=true}catch(b){}p.abort()}}}v=n.split(".");y=v.length>1?v[1]:"";p=t.ajax({url:l+(g?"":m),type:v[0],data:r,success:function(t,e,n){delete c[a];if(n.aborted)return;t=n.responseText;if(void 0==t||null==t||""==t||t.indexOf("<!DOCTYPE")>=0){s.call(h,1,t,e);return}if("JSON"==y)try{t=u(t)}catch(i){s.call(h,3,n.responseText,e);return}s.call(h,0,t,e)},error:function(t,e){delete c[a];if(!e||"error"==e){s.call(h,1,"",e);return}if(t.aborted)return;s.call(h,1,t.responseText,e)}});a&&(c[a]=p)};var d={get2:function(t,e,n,i){l("GET",t,e,n,i);return this},post2:function(t,e,n,i){l("POST",t,e,n,i);return this},getJSON2:function(t,e,n,i){l("GET.JSON",t,e,n,i);return this},postJSON2:function(t,e,n,i){l("POST.JSON",t,e,n,i);return this}};e.extend(d);n.extend(d)}(t.jQuery||t.Zepto,t.Zepto||{});!function(e){var n=function(t,n,i){var r=0,o;if("function"!==typeof n){i=n;n=t;t=250}function a(){var e=this,a=Date.now()-r,s=arguments;function u(){r=Date.now();n.apply(e,s)}function c(){o=void 0}if(i&&!o)u();o&&clearTimeout(o);if(void 0===i&&a>t)u();else o=setTimeout(i?c:u,void 0===i?t-a:t)}a._zid=n._zid=n._zid||e.proxy(n)._zid;return a};e.matchMedia=function(){var n=0,i="gmu-media-detect",r=e.fx.transitionEnd,o=e.fx.cssPrefix,a=e("<style></style>").append("."+i+"{"+o+"transition: width 0.001ms; width: 0; position: relative; bottom: -999999px;}\n").appendTo("head");return function(o){var s=i+n++,u=e('<div class="'+i+'" id="'+s+'"></div>').appendTo("body"),c=[],l;a.append("@media "+o+" { #"+s+" { width: 100px; } }\n");if("matchMedia"in t)return t.matchMedia(o);u.on(r,function(){l.matches=100===u.width();e.each(c,function(t,n){e.isFunction(n)&&n.call(l,l)})});l={matches:100===u.width(),media:o,addListener:function(t){c.push(t);return this},removeListener:function(t){var e=c.indexOf(t);~e&&c.splice(e,1);return this}};return l}}();e(function(){var n=function(n){if(i!==n.matches){e(t).trigger("ortchange");i=n.matches}},i=true;e.mediaQuery={ortchange:"screen and (width: "+document.documentElement.clientWidth+"px)"};e.matchMedia(e.mediaQuery.ortchange).addListener(n)});function i(){e(t).on("scroll",n(80,function(){e(document).trigger("scrollStop")},false))}function r(){e(t).off("scroll");i()}i();e(t).on("pageshow",function(t){if(t.persisted)e(document).off("touchstart",r).one("touchstart",r)});e.easyEvents=function(n,i,r,o){var a,s=e(o||document),u,c,l,f;if("[object Object]"==Object.prototype.toString.call(n)){r=i;i=n;n=0}f=n?"undelegate":"delegate";r=r||t;for(var p in i){a=e.isFunction(i[p])?i[p]:e.isFunction(r[i[p]])?r[i[p]]:null;if(a){u=p.match(/^(\S+)\s*(.*)$/);c=u[1];l=u[2];if(c&&l)s[f](l,c.replace(/\,/g," "),e.proxy(a,r))}}};e.fn.easyEvents=function(t,n,i){e.easyEvents(t,n,i,this);return this}}(Zepto);!function(t){t.cookie=function(e,n,i){if(arguments.length>1&&(null===n||"object"!==typeof n)){i=t.extend({},i);if(null===n)i.expires=-1;if("number"===typeof i.expires){var r=i.expires,o=i.expires=new Date;o.setDate(o.getDate()+r)}return document.cookie=[encodeURIComponent(e),"=",i.raw?String(n):encodeURIComponent(String(n)),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}i=n||{};var a,s=i.raw?function(t){return t}:decodeURIComponent;return(a=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?s(a[1]):null}}(Zepto);!function(t){var e=RegExp.regCompile?/./.compile("\\{([\\w\\.]+)\\}","g"):/\{([\w\.]+)\}/g;t.format=function(n,i){var r=true,o,a,s=void 0===i?null:t.isPlainObject(i)?(r=false,i):t.isArray(i)?i:Array.prototype.slice.call(arguments,1);if(null===s)return n;o=r?s.length:0;a=RegExp.regCompile?/./.compile("^\\d+$"):/^\d+$/;return String(n).replace(e,function(t,e){var n=a.test(e),i,u,c;if(n&&r){i=parseInt(e,10);return i<o?s[i]:t}else{u=e.split(".");c=s;for(var l=0;l<u.length;l++)c=c[u[l]];return void 0===c?t:c}})}}(Zepto);!function(e){var n={},i=function(i,r,o,a,s){var u=r.toLowerCase().replace(/#.*$/,"").replace("/?.*$/",""),c,l,f=e.isFunction,p=n[u]||[],d=(o||e.noop)(r),h=t.CollectGarbage||e.noop;if(true===d){f(a)&&a();return}n[u]=p;if(!p||!p.loaded||false==d){f(a)&&p.push(a);p.loaded=1;c=document.createElement(i),l=document.getElementsByTagName("head")[0]||document.documentElement;r=r+(r.indexOf("?")>=0?"&":"?")+(t.Core&&Core.version||+new Date);if("link"==i){c.rel="stylesheet";c.type="text/css";c.media="screen";c.charset=s||"UTF-8";c.href=r}else{c.type="text/javascript";c.charset=s||"UTF-8";var g=false;c.onload=c.onreadystatechange=function(){if(!g&&(!this.readyState||{loaded:1,complete:1}[this.readyState])){g=true;c.onload=c.onreadystatechange=null;this.parentNode.removeChild(this);var t=n[u],e=t.length,i=0;t.loaded=2;for(;i<e;i++)f(t[i])&&t[i]();t.length=0;t=l=c=null;h()}};c.src=r}l.appendChild(c,l.lastChild)}else if(2==p.loaded){f(a)&&a();p=null;h()}else{f(a)&&p.push(a);p=null;h()}},r=function(t,e){if(!e)return t;return/^http/i.test(t)?t:e.replace(/\/*$/,"")+t};e.extend({loadJS:function(t,n,o,a,s){if(!e.isFunction(o)){s=a;a=o;o=n;n=null}if(!e.isFunction(o)){s=a;a=o;o=null}if(/^http/i.test(a)){s=a;a=""}if(e.isArray(t)){var u=t.length,c=function(l){if(l<u)i("script",r(t[l],s),n,function(){c(l+1)},a);else e.isFunction(o)&&o()};c(0)}else i("script",r(t,s),n,o,a);return this},loadCss:function(t,n){if(e.isArray(t)){var o=t.length,a=0;for(;a<o;a++)i("link",r(t[a],n))}else i("link",r(t,n));return this}})}(Zepto);!function(t,e){var n=function(){},i={set:n,get:n,remove:n,clear:n,each:n,obj:n,length:0},r=function(t){if(!t)return e;return{set:function(n,i){if(this.get(n)!==e)this.remove(n);t.setItem(n,i)},get:function(n){var i=t.getItem(n);return null===i?e:i},remove:function(e){t.removeItem(e)},clear:function(){t.clear()},each:function(t){var e=this.obj(),n=t||function(){},i;for(i in e)if(false===n.call(this,i,this.get(i)))break},obj:function(){var e={},n=0,i,r;if(t.isVirtualObject)e=t.key(-1);else{i=t.length;for(;n<i;n++){r=t.key(n);e[r]=this.get(r)}}return e}}};try{t.LS=r(t.localStorage);t.SS=r(t.sessionStorage)}catch(o){t.LS=t.SS=i}if(t.Zepto){t.Zepto.LS=t.LS;t.Zepto.SS=t.SS}if(t.jQuery){t.jQuery.LS=t.LS;t.jQuery.SS=t.SS}}(t);!function(e){e.extend({getUrlPara:function(n){var i=t.location.search.replace(/^\?/g,""),r=i;try{r=decodeURI(i)}catch(o){r=i.replace(/"%26"/g,"&")}return e.getParaFromString(r,n)},getHashPara:function(n){return e.getParaFromString(t.location.hash.replace(/^#*/,""),n)},getPara:function(t){return e.getUrlPara(t)||e.getHashPara(t)},getParaFromString:function(t,n){var i=t.split("&"),r={};e.each(i,function(){var t=this.split("=");t[0]&&t.length>1&&(r[t[0]]=decodeURIComponent(t[1]))});if(void 0===n)return r;else return r[n]||""},safeHTML:function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},safeRegStr:function(t){return String(t).replace(/([\\\(\)\{\}\[\]\^\$\+\-\*\?\|])/g,"\\$1")},falseFn:function(){return false},stopProp:function(t){t.stopPropagation()},preventDft:function(t){t.preventDefault()},addUrlPara:function(t,e){var n=(t+"").indexOf("?")+1?"&":"?";return t+n+e},formatTime:function(t,e){var n=/^\d+$/i.test(t+"")?+t:Date.parse(t);if(isNaN(n))return t;var i=new Date(n),r=function(t){return("0"+t).slice(-2)},o=i.getFullYear(),a=i.getMonth()+1,s=r(a),u=i.getDate(),c=r(u),l=i.getHours(),f=r(l),p=i.getMinutes(),d=r(p),h=i.getSeconds(),g=r(h);return(e||"yyyy-MM-dd hh:mm:ss").replace(/yyyy/g,o).replace(/MM/g,s).replace(/M/g,a).replace(/dd/g,c).replace(/d/g,u).replace(/hh/g,f).replace(/h/g,l).replace(/mm/g,d).replace(/m/g,p).replace(/ss/g,g).replace(/s/g,h)}});!function(){var t={},n={},i=0,r=Object.prototype.toString,o=function(t,e){var n=e||"%",i=new Function("var p=[],my=this,data=my,print=function(){p.push.apply(p,arguments);};p.push('"+t.replace(/[\r\t\n]/g," ").split("<"+n).join("	").replace(new RegExp("((^|"+n+">)[^\\t]*)'","g"),"$1\r").replace(new RegExp("\\t=(.*?)"+n+">","g"),"',$1,'").split("	").join("');").split(n+">").join("p.push('").split("\r").join("\\'")+"');return p.join('');");return i};e.template=function(e,a,s){s=s||"%";var u="[object Function]"===r.call(e)?e:!/\W/.test(e)?n[e+s]=n[e+s]||o(document.getElementById(e).innerHTML,s):function(){for(var r in t)if(t[r]===e)return n[r];return t[++i]=e,n[i]=o(e,s)}();return a?u.call(a):u}}();!function(){var t=RegExp.regCompile?/./.compile("\\{([\\w\\.]+)\\}","g"):/\{([\w\.]+)\}/g;e.format=function(n,i){var r=true,o,a,s=void 0===i?null:e.isPlainObject(i)?(r=false,i):e.isArray(i)?i:Array.prototype.slice.call(arguments,1);if(null===s)return n;o=r?s.length:0;a=RegExp.regCompile?/./.compile("^\\d+$"):/^\d+$/;return String(n).replace(t,function(t,e){var n=a.test(e),i,u,c;if(n&&r){i=parseInt(e,10);return i<o?s[i]:t}else{u=e.split(".");c=s;for(var l=0;l<u.length;l++)c=c[u[l]];return void 0===c?t:c}})}}();e.fn.bindTab=function(t,n,i,r){if(!e.isFunction(t)){r=i;i=n;n=t;t=e.noop}return this.each(function(){var o=e(this),a=i||"active",s=n||"li",u=r||"rel",c=e.isSupportTouch?"tap":"click";toggTab=function(n){e(o.find("."+a).removeClass(a).attr(u)).hide();var i=e(n.addClass(a).attr(u)).show()[0];t.call(n[0],i)};o.delegate(s,c,function(){var t=e(this);if(t.hasClass(a)||this.disabled)return;toggTab(t)});"a"==s&&o.delegate(s,"click",function(t){t.preventDefault()})})}}(t.Zepto)}(window,Zepto);var Core=function(t,e,n){var i={connectTime:t.performance&&t.performance.timing?t.performance.timing.connectStart||0:0,serverInitTime:+new Date,localInitTime:+new Date,getServerTime:function(){var t=this.localInitTime-this.connectTime,e=this.serverInitTime+ +new Date-this.localInitTime;return new Date(this.connectTime>0&&t>0?e+t:e)}};var r={version:1,config:{},cdnUrl:"http://pimg1.126.net/caipiao",navConfig:{appName:"网易彩票",appID:"caipiao"},isSupportTouch:e.isSupportTouch,events:{},eventWrap:null,serverTime:function(){return i.getServerTime()},navInit:function(){delete this.navInit;return this},configInit:function(t,n,r,o){if(t)this.cdnUrl=t;if(n)this.userId=this.accountId=n;if(r)this.version=r;o=+o;if(o)i.serverInitTime=o;e.bindModule({"dialog alert confirm toast":{js:"/wap/js/dialog.js"}},this.cdnUrl);e.bindModule(e.fn,{"bindMinMaxCheck bindAutoCheck bindLiveCheck bindLiveCheck2 bindNumberLiveCheck bindNumberLiveCheck2":{js:"/wap/js/liveCheck.js"}},this.cdnUrl);return this},init:function(){this.showDownloadClient();if(this.autoModule)this.bindModule(this.autoModule,this.cdnUrl);this.myInit();if(e.getPara("debug"))e.cookie("debug","true"===e.getPara("debug")?"true":null);this.__debug__="true"===e.cookie("debug");delete this.init;this.quickInit&&delete this.quickInit;return this},fastInit:function(){if(this.eventWrap&&this.events&&e.fn.easyEvents)e(this.eventWrap).easyEvents(this.events,this);this.quickInit&&this.quickInit();this.dealUrl();delete this.fastInit;return this},showDownloadClient:function(){if(e.getUrlPara("showDownloadClient")){var t=e.getUrlPara("iclientid")||"411654863",n=e.getUrlPara("channel")||"netease",i=['<div style="line-height:0;">','<a href="http://caipiao.163.com/m/downloadClient.html?iclientid='+t+"&channel="+n+'&isPop=true" target="_blank">','<img src="'+r.cdnUrl+'/wap/img/cliend_down.jpg?v="'+r.version+' style="width:100%;"></a></div>'].join("");e(".docBody").prepend(i)}},hideToolbar:function(){var n=e(".docBody"),i=n.height();n.height("5000px");setTimeout(function(){t.scrollTo(0,0);n.css("height",t.innerHeight);e("body").css("height",t.innerHeight)},0);return this},dealUrl:function(){e(document.body).delegate("a[cpurl]","click",function(e){var n=this.getAttribute("cpurl");if(n){if("history"===n)history.back();else if(/^javascript/.test(n))return;else t.location.href=n;e.preventDefault()}});return this},bindModule:function(t){e.bindModule(this,t,this.cdnUrl);return this},parseJSON:function(t){t=t.replace(/("|')\\?\/Date\((-?[0-9+]+)\)\\?\/\1/g,"new Date($2)");return new Function("return "+t)()},showToastFor:function(n,i,r){var o=e(n),a=o.offset(),s=e("<div class='targetErrorToast'>"+i+"</div>").appendTo(document.body);s.css({top:a.top-1.2*s.height(),left:(e(t).width()-s.width())/2});var u=function(){s.remove();o.unbind("input",u);t.clearTimeout(c)},c=t.setTimeout(u,r||2500);o.trigger("input").one("input",u);o[0].select&&o[0].focus()},login:function(e,n,i){if(r.isLoginPage)return;if(!n){t.location.href="http://caipiao.163.com/t/login.html?backUrl="+encodeURIComponent(e);return}},isLogin:function(t){this.get("http://caipiao.163.com/t/identity/queryLoginStatus.html",function(e,n){var i=e?false:"0"==n?"":n;t&&t.call(this,i)})},virualViewStat:function(t,e){if(!t)return;neteaseTracker(true,t,e);return this},countLoadingTime:function(t){var n="http://click.caipiao.163.com/t/",o,a,s=e.cookie("countLoadingTime")||"",u=new Date,c;n+=t;try{s=r.parseJSON(s)||{}}catch(l){}s[t]=s[t]||0;a=s[t];if(0==a&&Math.random()>=.6){s[t]=2;e.cookie("countLoadingTime",JSON.stringify(s),{expires:new Date(u.getTime()+60*60*1e3),path:"/"});return this}if(a<2&&"undefined"!=typeof __loadindStartTime){o=u.getTime()-__loadindStartTime.getTime();c="?serverTime=";c+=+i.getServerTime();c+="&loadingTime="+o;s[t]=s[t]+1;e.cookie("countLoadingTime",JSON.stringify(s),{expires:new Date(u.getTime()+60*60*1e3),path:"/"});n+=c;if("undefined"!=typeof neteaseTracker)neteaseTracker(true,n,"")}return this},get:e.get2,post:e.post2,getJSON:e.getJSON2,postJSON:e.postJSON2,loadJS:e.loadJS,loadCss:e.loadCss,loadCdnJS:function(){Array.prototype.push.call(arguments,"utf-8",this.cdnUrl);return this.loadJS.apply(this,arguments)},loadCdnCss:function(t){return this.loadCss(t,this.cdnUrl)},myInit:e.noop,quickInit:e.noop};return r}(window,Zepto);Zepto(window).unload(function(){window.Core=null;window.onload=null;window.onunload=null;window.onerror=null});Zepto(document).ready(function(){Core.init&&Core.init()});Zepto(window).on("pageshow",function(){Core.init&&Core.init()});